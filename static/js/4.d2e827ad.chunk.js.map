{"version":3,"sources":["components/Inventory/List/List.module.scss","components/Common/CustomForm/CustomField.module.scss","components/Inventory/Heirachy/Hierachy.module.scss","components/Inventory/Heirachy/Indicator/Indicator.module.scss","components/Inventory/Inventory.module.scss","components/Inventory/Heirachy/Indicator/Indicator.tsx","components/Inventory/Heirachy/Hierarchy.tsx","components/Inventory/Heirachy/HeirachyContainer.tsx","components/Common/CustomForm/CustomField.tsx","components/Common/CustomForm/CustomButton.tsx","components/Inventory/List/Create/Create.tsx","components/Inventory/List/Room/Room.tsx","components/Inventory/List/Edit/Edit.tsx","components/Inventory/List/List.tsx","components/Inventory/List/ListContainer.tsx","components/Inventory/Inventory.tsx"],"names":["module","exports","Indicator","memo","indicator","length","EmptyIndicator","className","s","emptyIndicator","NonEmptyIndicator","nonEmptyIndicator","Hierarchy","handleClick","hierarchy","useSelector","databaseSelectors","getHierarchy","inventory","getInventory","hierachyPage","map","building","currInv","putAllSetsOfKeysWithData","extractKeysFromDependencies","id","key","name","currentInventory","onClick","title","Nodes","parts","node","nodes","subtitle","Rooms","items","ForTheThirdNesting","forTheThirdNesting","HeirachyContainer","dispatch","useDispatch","actions","setCurrentNode","setCurrentNameNode","setLevelNode","level","setCurrentInvenory","CustomField","label","Component","Input","props","useField","field","meta","errorText","error","touched","classnames","withLabel","fieldLabel","hasError","componentProps","fieldErrors","CustomButton","text","isSubmitting","type","Create","setCreate","getCurrentNode","listPage","validateOnChange","initialValues","count","validationSchema","enableReinitialize","onSubmit","values","a","setSubmitting","resetForm","createInventory","form","titleForObj","placeholder","autoComplete","input","btn","Room","create","edit","setEdit","notFound","itemsNotFound","forbuttons","prevState","Edit","handleDelete","yup","min","max","required","typeError","List","currenName","currenNode","dependency","keys","updateInventory","placeId","disabled","ListContainer","getCurrentInventory","getCurrentName","useState","useEffect","removeInventory","Inventory","inventoryPage","heirachy","nodeData"],"mappings":"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","file":"static/js/4.d2e827ad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"notFound\":\"List_notFound__fGGHo\",\"itemsNotFound\":\"List_itemsNotFound__5IvTZ\",\"title\":\"List_title__HSqD1\",\"forbuttons\":\"List_forbuttons__35zoq\",\"btn\":\"List_btn__2E9wl\",\"listPage\":\"List_listPage__3EDD6\",\"form\":\"List_form__1HaCN\",\"titleForObj\":\"List_titleForObj__1_Fq5\",\"input\":\"List_input__1ZH61\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fieldErrors\":\"CustomField_fieldErrors__7T4fE\",\"hasError\":\"CustomField_hasError__1qiWI\",\"filePicker\":\"CustomField_filePicker__1rlz7\",\"imageHolder\":\"CustomField_imageHolder__1mvKG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"indicator\":\"Hierachy_indicator__1OXoo\",\"hierachyPage\":\"Hierachy_hierachyPage__1_cMO\",\"building\":\"Hierachy_building__3Owku\",\"title\":\"Hierachy_title__ukCft\",\"nodes\":\"Hierachy_nodes__cAMXR\",\"subtitle\":\"Hierachy_subtitle__17NjO\",\"items\":\"Hierachy_items__2k93k\",\"forTheThirdNesting\":\"Hierachy_forTheThirdNesting__osJr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"emptyIndicator\":\"Indicator_emptyIndicator__1r2OD\",\"nonEmptyIndicator\":\"Indicator_nonEmptyIndicator__WAm_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inventoryPage\":\"Inventory_inventoryPage__Imfpu\",\"heirachy\":\"Inventory_heirachy__2vPXJ\",\"nodeData\":\"Inventory_nodeData__17SF-\"};","import React, { memo } from \"react\"\r\nimport { IInventory } from \"../../../../interface/database\"\r\nimport s from \"./Indicator.module.scss\"\r\n\r\ninterface IProps {\r\n  indicator: Array<IInventory>\r\n}\r\n\r\nexport const Indicator = memo<IProps>(({ indicator }) => {\r\n  if (indicator.length) return <NonEmptyIndicator />\r\n\r\n  return <EmptyIndicator />\r\n})\r\n\r\nconst EmptyIndicator = () => <div className={s.emptyIndicator}></div>\r\n\r\nconst NonEmptyIndicator = () => <div className={s.nonEmptyIndicator}></div>\r\n","import React, { memo } from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport s from \"./Hierachy.module.scss\"\r\nimport { databaseSelectors } from \"../../../redux/selectors/selectors\"\r\nimport {\r\n  extractKeysFromDependencies,\r\n  putAllSetsOfKeysWithData,\r\n} from \"../../../utils/funcHelpers\"\r\nimport { IHierarchy, IInventory, IPlace } from \"../../../interface/database\"\r\nimport { Indicator } from \"./Indicator/Indicator\"\r\n\r\ninterface INode {\r\n  parts: any\r\n}\r\n\r\ninterface IProps {\r\n  handleClick: (id: string, name: string) => void\r\n}\r\n\r\nexport const Hierarchy = memo<IProps>(({ handleClick }) => {\r\n  const hierarchy = useSelector(databaseSelectors.getHierarchy)\r\n  const inventory = useSelector(databaseSelectors.getInventory)\r\n\r\n  if (!hierarchy && !inventory) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <ul className={s.hierachyPage}>\r\n      {hierarchy.map((building: IHierarchy) => {\r\n        const currInv = putAllSetsOfKeysWithData(\r\n          extractKeysFromDependencies(building.id, hierarchy),\r\n          inventory\r\n        )\r\n        return (\r\n          <div key={building.name}>\r\n            <li className={s.building}>\r\n              <div className={s.indicator}>\r\n                <Indicator indicator={currInv.currentInventory} />\r\n                <p\r\n                  onClick={() => handleClick(building.id, building.name)}\r\n                  className={s.title}\r\n                >\r\n                  {building.name}\r\n                </p>\r\n              </div>\r\n              <Nodes\r\n                handleClick={handleClick}\r\n                parts={building.parts!}\r\n                hierarchy={hierarchy}\r\n                inventory={inventory}\r\n              />\r\n            </li>\r\n          </div>\r\n        )\r\n      })}\r\n    </ul>\r\n  )\r\n})\r\n\r\ninterface ISubsidiariesProps {\r\n  parts: any\r\n  handleClick: (id: string, name: string) => void\r\n  hierarchy: Array<any>\r\n  inventory: Array<IInventory>\r\n}\r\n\r\nconst Nodes = memo<ISubsidiariesProps>(\r\n  ({ parts, handleClick, hierarchy, inventory }) => {\r\n    return (\r\n      <>\r\n        {parts.map((node: any) => {\r\n          const currInv = putAllSetsOfKeysWithData(\r\n            extractKeysFromDependencies(node.id, hierarchy),\r\n            inventory\r\n          )\r\n          return (\r\n            <div key={node.name}>\r\n              <ul key={node.name} className={s.nodes}>\r\n                <div className={s.indicator}>\r\n                  <Indicator indicator={currInv.currentInventory} />\r\n                  <p\r\n                    onClick={() => handleClick(node.id, node.name)}\r\n                    className={s.subtitle}\r\n                  >\r\n                    {node.name}\r\n                  </p>\r\n                </div>\r\n                {node.parts && (\r\n                  <Rooms\r\n                    handleClick={handleClick}\r\n                    parts={node?.parts}\r\n                    hierarchy={hierarchy}\r\n                    inventory={inventory}\r\n                  />\r\n                )}\r\n              </ul>\r\n            </div>\r\n          )\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n)\r\n\r\nconst Rooms = memo<ISubsidiariesProps>(\r\n  ({ parts, handleClick, hierarchy, inventory }) => {\r\n    return (\r\n      <>\r\n        {parts?.map((node: any) => {\r\n          const currInv = putAllSetsOfKeysWithData(\r\n            extractKeysFromDependencies(node.id, hierarchy),\r\n            inventory\r\n          )\r\n          return (\r\n            <li key={node.name} className={s.items}>\r\n              <div className={s.indicator}>\r\n                <Indicator indicator={currInv.currentInventory} />\r\n                <p onClick={() => handleClick(node.id, node.name)}>\r\n                  {node.name}\r\n                </p>\r\n              </div>\r\n              <ForTheThirdNesting\r\n                handleClick={handleClick}\r\n                parts={node?.parts}\r\n                hierarchy={hierarchy}\r\n                inventory={inventory}\r\n              />\r\n            </li>\r\n          )\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n)\r\n\r\n// Additionally, if there are floors\r\nconst ForTheThirdNesting = memo<ISubsidiariesProps>(\r\n  ({ parts, handleClick, hierarchy, inventory }) => {\r\n    return (\r\n      <>\r\n        {parts?.map((node: any) => {\r\n          const currInv = putAllSetsOfKeysWithData(\r\n            extractKeysFromDependencies(node.id, hierarchy),\r\n            inventory\r\n          )\r\n          return (\r\n            <li key={node.name} className={s.forTheThirdNesting}>\r\n              <div className={s.indicator}>\r\n                <Indicator indicator={currInv.currentInventory} />\r\n                <p onClick={() => handleClick(node.id, node.name)}>\r\n                  {node.name}\r\n                </p>\r\n              </div>\r\n            </li>\r\n          )\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n)\r\n","import React, { memo } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { actions } from \"../../../redux/database-reducer\"\r\nimport { databaseSelectors } from \"../../../redux/selectors/selectors\"\r\nimport { Hierarchy } from \"./Hierarchy\"\r\nimport {\r\n  extractKeysFromDependencies,\r\n  putAllSetsOfKeysWithData,\r\n} from \"../../../utils/funcHelpers\"\r\n\r\nexport const HeirachyContainer = memo(() => {\r\n  const dispatch = useDispatch()\r\n  const hierarchy = useSelector(databaseSelectors.getHierarchy)\r\n  const inventory = useSelector(databaseSelectors.getInventory)\r\n\r\n  const handleClick = (id: string, name: string) => {\r\n    dispatch(actions.setCurrentNode(id))\r\n    dispatch(actions.setCurrentNameNode(name))\r\n    const node = putAllSetsOfKeysWithData(\r\n      extractKeysFromDependencies(id, hierarchy),\r\n      inventory\r\n    )\r\n    dispatch(actions.setLevelNode(node.level))\r\n    dispatch(actions.setCurrentInvenory(node.currentInventory))\r\n  }\r\n\r\n  return <Hierarchy handleClick={handleClick} />\r\n})\r\n","import React, { FC } from \"react\"\nimport { FieldAttributes, useField } from \"formik\"\nimport classnames from \"classnames\"\nimport s from \"./CustomField.module.scss\"\n\ninterface IClassName {\n  className?: string\n}\ninterface CustomFieldProps extends IClassName {\n  name: string\n  label?: string\n  type?: string\n  placeholder?: string\n  disabled?: boolean\n  style?: any\n  handleChange?: any\n  Component?: any\n  componentProps?: any\n}\n\nexport const CustomField: React.FC<FieldAttributes<CustomFieldProps>> = ({\n  label,\n  Component = Input,\n  className,\n  ...props\n}) => {\n  const [field, meta] = useField<CustomFieldProps>(props)\n  let errorText = meta.error && meta.touched ? meta.error : \"\"\n\n  return (\n    <div\n      className={classnames(\"\", {\n        [s.error]: errorText,\n        [s.withLabel]: label,\n      })}\n    >\n      <label className={s.fieldLabel}>{label}</label>\n      <Component\n        field={field}\n        className={classnames(className, {\n          [s.hasError]: meta.error && meta.touched,\n        })}\n        {...field}\n        {...props}\n        {...props.componentProps}\n      />\n      <p className={classnames(s.fieldErrors)}>{errorText}</p>\n    </div>\n  )\n}\n\nexport const Input: FC = ({ ...props }) => {\n  return <input {...props} />\n}\n\nexport const Textarea = ({ ...props }) => {\n  return <textarea {...props} />\n}\n\nexport const Radiobutton: FC = ({ ...props }) => {\n  return <input type=\"radio\" {...props} />\n}\n\nexport const Select: FC = ({ ...props }) => {\n  return <select {...props} />\n}\n\nexport const Checkbox: FC = ({ ...props }) => {\n  return <input type=\"checkbox\" {...props} />\n}\n","import React, { FC } from \"react\"\nimport \"./CustomField.module.scss\"\n\ninterface ICustomButtom {\n  text: string\n  isSubmitting: boolean\n  className?: string\n  type?: \"button\" | \"submit\" | \"reset\" | undefined\n}\n\nexport const CustomButton: FC<ICustomButtom> = ({\n  text,\n  isSubmitting,\n  className,\n  type,\n  ...props\n}) => {\n  return (\n    <button className={className} type={type} {...props}>\n      {isSubmitting ? \"loading\" : text}\n    </button>\n  )\n}\n","import { Form, Formik } from \"formik\"\r\nimport React, { memo } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { databaseSelectors } from \"../../../../redux/selectors/selectors\"\r\nimport { CustomButton } from \"../../../Common/CustomForm/CustomButton\"\r\nimport { CustomField } from \"../../../Common/CustomForm/CustomField\"\r\nimport { validationSchema } from \"../List\"\r\nimport { createInventory } from \"../../../../redux/database-reducer\"\r\nimport s from \"../List.module.scss\"\r\n\r\ninterface IProps {\r\n  setCreate: (state: boolean) => void\r\n}\r\n\r\nexport const Create = memo<IProps>(({ setCreate }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  // name current node (click)\r\n  const id = useSelector(databaseSelectors.getCurrentNode)\r\n\r\n  return (\r\n    <>\r\n      <div className={s.listPage}>\r\n        <Formik\r\n          validateOnChange={true}\r\n          initialValues={{\r\n            name: \"\",\r\n            count: \"\",\r\n          }}\r\n          validationSchema={validationSchema}\r\n          enableReinitialize={true}\r\n          onSubmit={async (values, { setSubmitting, resetForm }) => {\r\n            setSubmitting(false)\r\n            dispatch(createInventory(values.name, +values.count, id))\r\n            setCreate(false)\r\n            resetForm()\r\n          }}\r\n        >\r\n          {({ isSubmitting }) => {\r\n            return (\r\n              <Form>\r\n                <div className={s.form}>\r\n                  <h3 className={s.titleForObj}>Название оборудования</h3>\r\n                  <CustomField\r\n                    name=\"name\"\r\n                    placeholder=\"Оборудование\"\r\n                    autoComplete=\"off\"\r\n                    className={s.input}\r\n                  />\r\n\r\n                  <h3 className={s.titleForObj}>Количество</h3>\r\n                  <CustomField\r\n                    name=\"count\"\r\n                    placeholder=\"Количество\"\r\n                    autoComplete=\"off\"\r\n                    className={s.input}\r\n                  />\r\n\r\n                  <CustomButton\r\n                    type=\"submit\"\r\n                    className={s.btn}\r\n                    text={\"Добавить\"}\r\n                    isSubmitting={isSubmitting}\r\n                  ></CustomButton>\r\n                </div>\r\n              </Form>\r\n            )\r\n          }}\r\n        </Formik>\r\n      </div>\r\n    </>\r\n  )\r\n})\r\n","import React, { memo } from \"react\"\r\nimport { IInventory } from \"../../../../interface/database\"\r\nimport { IDependency } from \"../../../../utils/funcHelpers\"\r\nimport { Create } from \"../Create/Create\"\r\nimport s from \"../List.module.scss\"\r\n\r\ninterface IProps {\r\n  dependency: IDependency\r\n  setCreate: (value: React.SetStateAction<boolean>) => void\r\n  create: boolean\r\n  currentInventory: Array<IInventory>\r\n  edit: boolean\r\n  setEdit: (value: React.SetStateAction<boolean>) => void\r\n}\r\n\r\nexport const Room = memo<IProps>(\r\n  ({ currentInventory, setCreate, create, edit, setEdit }) => {\r\n    //\r\n    if (currentInventory.length === 0) {\r\n      return (\r\n        <>\r\n          <div className={s.notFound}>\r\n            <p className={s.itemsNotFound}>\r\n              В выбранном помещении нет оборудования\r\n            </p>\r\n          </div>\r\n          <div className={s.forbuttons}>\r\n            <button\r\n              onClick={() => setCreate((prevState: boolean) => !prevState)}\r\n              className={s.btn}\r\n            >\r\n              Создать\r\n            </button>\r\n            {create && <Create setCreate={setCreate} />}\r\n          </div>\r\n        </>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className={s.forbuttons}>\r\n          <button\r\n            onClick={() => setCreate((prevState: boolean) => !prevState)}\r\n            className={s.btn}\r\n          >\r\n            Создать\r\n          </button>\r\n          {create && <Create setCreate={setCreate} />}\r\n          <button\r\n            onClick={() => setEdit((prevState) => !prevState)}\r\n            className={s.btn}\r\n          >\r\n            {edit ? \"Выйти из режима редактировния\" : \"Режим редактирования\"}\r\n          </button>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n)\r\n","import React, { memo } from \"react\"\r\nimport { CustomButton } from \"../../../Common/CustomForm/CustomButton\"\r\nimport { CustomField } from \"../../../Common/CustomForm/CustomField\"\r\nimport s from \"../List.module.scss\"\r\n\r\ninterface IProps {\r\n  isSubmitting: boolean\r\n  id: string\r\n  handleDelete: (id: string) => void\r\n}\r\n\r\nexport const Edit = memo<IProps>(({ isSubmitting, handleDelete, id }) => {\r\n  return (\r\n    <div>\r\n      <CustomField\r\n        name=\"name\"\r\n        placeholder=\"Имя\"\r\n        className={s.input}\r\n        autoComplete=\"off\"\r\n      />\r\n\r\n      <h3 className={s.titleForObj}>Количество</h3>\r\n\r\n      <CustomField\r\n        name=\"count\"\r\n        placeholder=\"Количество\"\r\n        className={s.input}\r\n        autoComplete=\"off\"\r\n      />\r\n\r\n      <div className={s.forbuttons}>\r\n        <CustomButton\r\n          type=\"submit\"\r\n          className={s.btn}\r\n          text={\"Изменить\"}\r\n          isSubmitting={isSubmitting}\r\n        ></CustomButton>\r\n\r\n        <button className={s.btn} onClick={() => handleDelete(id)}>\r\n          Удалить\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n","import React, { memo } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { Formik, Form } from \"formik\"\r\nimport * as yup from \"yup\"\r\nimport { CustomField } from \"../../Common/CustomForm/CustomField\"\r\nimport { IInventory } from \"../../../interface/database\"\r\nimport s from \"./List.module.scss\"\r\nimport { updateInventory } from \"../../../redux/database-reducer\"\r\nimport { IDependency } from \"../../../utils/funcHelpers\"\r\nimport { Room } from \"./Room/Room\"\r\nimport { Edit } from \"./Edit/Edit\"\r\n\r\nexport interface IInitialValues {\r\n  name: string\r\n  count: string\r\n}\r\n\r\nexport const validationSchema = yup.object({\r\n  name: yup\r\n    .string()\r\n    .min(3, \"Минимум 3 буквы\")\r\n    .max(30, \"Максимум 30 букв\")\r\n    .required(\"Введите предмет\"),\r\n  count: yup\r\n    .number()\r\n    .typeError(\"Только цифры\")\r\n    .required(\"Введите название задачи\"),\r\n})\r\n\r\ninterface IProps {\r\n  currenName: string\r\n  currenNode: string\r\n  dependency: IDependency\r\n  create: boolean\r\n  setCreate: (value: React.SetStateAction<boolean>) => void\r\n  edit: boolean\r\n  setEdit: (value: React.SetStateAction<boolean>) => void\r\n  currentInventory: Array<IInventory>\r\n  handleDelete: (id: string) => void\r\n  handleUpdate?: (id: string) => void\r\n}\r\n\r\nexport const List = memo<IProps>(\r\n  ({\r\n    currenName,\r\n    currenNode,\r\n    dependency,\r\n    create,\r\n    setCreate,\r\n    edit,\r\n    setEdit,\r\n    currentInventory,\r\n    handleDelete,\r\n  }) => {\r\n    const dispatch = useDispatch()\r\n    return (\r\n      <>\r\n        <h2 className={s.title}>{currenName}</h2>\r\n\r\n        {dependency.keys[0].length === 1 ? (\r\n          <Room\r\n            dependency={dependency}\r\n            currentInventory={currentInventory}\r\n            setCreate={setCreate}\r\n            create={create}\r\n            edit={edit}\r\n            setEdit={setEdit}\r\n          />\r\n        ) : null}\r\n\r\n        {currentInventory.map((inventory: IInventory) => (\r\n          <div className={s.listPage} key={inventory.id}>\r\n            <Formik\r\n              validateOnChange={true}\r\n              initialValues={{\r\n                name: inventory.name,\r\n                count: inventory.count,\r\n              }}\r\n              validationSchema={validationSchema}\r\n              enableReinitialize={true}\r\n              onSubmit={async (values, { setSubmitting, resetForm }) => {\r\n                setSubmitting(false)\r\n\r\n                resetForm()\r\n\r\n                dispatch(\r\n                  updateInventory({\r\n                    id: inventory.id,\r\n                    count: values.count,\r\n                    name: values.name,\r\n                    placeId: currenNode,\r\n                  })\r\n                )\r\n              }}\r\n            >\r\n              {({ isSubmitting }) => {\r\n                return (\r\n                  <Form>\r\n                    <div className={s.form}>\r\n                      <h3 className={s.titleForObj}>Название оборудования</h3>\r\n\r\n                      {edit ? (\r\n                        <Edit\r\n                          isSubmitting={isSubmitting}\r\n                          handleDelete={handleDelete}\r\n                          id={inventory.id}\r\n                        />\r\n                      ) : (\r\n                        <>\r\n                          <CustomField\r\n                            disabled\r\n                            name=\"name\"\r\n                            placeholder=\"Имя\"\r\n                            className={s.input}\r\n                            autoComplete=\"off\"\r\n                          />\r\n\r\n                          <h3 className={s.titleForObj}>Количество</h3>\r\n\r\n                          <CustomField\r\n                            disabled\r\n                            name=\"count\"\r\n                            placeholder=\"Количество\"\r\n                            className={s.input}\r\n                            autoComplete=\"off\"\r\n                          />\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </Form>\r\n                )\r\n              }}\r\n            </Formik>\r\n          </div>\r\n        ))}\r\n      </>\r\n    )\r\n  }\r\n)\r\n","import React, { memo, useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { databaseSelectors } from \"../../../redux/selectors/selectors\"\r\nimport s from \"./List.module.scss\"\r\nimport {\r\n// updateInventory,\r\n  removeInventory,\r\n} from \"../../../redux/database-reducer\"\r\nimport { extractKeysFromDependencies } from \"../../../utils/funcHelpers\"\r\nimport { List } from \"./List\"\r\n\r\nexport const ListContainer = memo(() => {\r\n  const dispatch = useDispatch()\r\n  const currentInventory = useSelector(databaseSelectors.getCurrentInventory)\r\n  const currenNode = useSelector(databaseSelectors.getCurrentNode)\r\n  const currenName = useSelector(databaseSelectors.getCurrentName)\r\n  const hierarchy = useSelector(databaseSelectors.getHierarchy)\r\n  const dependency = extractKeysFromDependencies(currenNode, hierarchy)\r\n\r\n  const [edit, setEdit] = useState(false)\r\n  const [create, setCreate] = useState(false)\r\n\r\n  useEffect(() => {}, [dependency])\r\n\r\n  const handleDelete = (id: string) => {\r\n    dispatch(removeInventory(id))\r\n    setEdit(false)\r\n  }\r\n\r\n  // const handleUpdate = (id: string) => {\r\n  //   dispatch(updateInventory)\r\n  //   setEdit(false)\r\n  // }\r\n\r\n  if (!currentInventory.length && !currenNode) {\r\n    return <div className={s.notFound}>Необходимо сделать выбор</div>\r\n  }\r\n\r\n  return (\r\n    <List\r\n      currenNode={currenNode}\r\n      currenName={currenName}\r\n      dependency={dependency}\r\n      create={create}\r\n      setCreate={setCreate}\r\n      edit={edit}\r\n      setEdit={setEdit}\r\n      currentInventory={currentInventory}\r\n      handleDelete={handleDelete}\r\n      // handleUpdate={handleUpdate}\r\n    />\r\n  )\r\n})\r\n","import React from \"react\"\r\nimport { HeirachyContainer } from \"./Heirachy/HeirachyContainer\"\r\nimport s from \"./Inventory.module.scss\"\r\nimport { ListContainer } from \"./List/ListContainer\"\r\n\r\nconst Inventory = () => {\r\n  return (\r\n    <div className={s.inventoryPage}>\r\n      <div className={s.heirachy}>\r\n        <HeirachyContainer />\r\n      </div>\r\n      <div className={s.nodeData}>\r\n        <ListContainer />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Inventory\r\n"],"sourceRoot":""}
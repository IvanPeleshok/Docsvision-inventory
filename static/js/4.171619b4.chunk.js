(this["webpackJsonpany-project"]=this["webpackJsonpany-project"]||[]).push([[4],{426:function(e,t,a){e.exports={notFound:"List_notFound__fGGHo",itemsNotFound:"List_itemsNotFound__5IvTZ",title:"List_title__HSqD1",forbuttons:"List_forbuttons__35zoq",btn:"List_btn__2E9wl",listPage:"List_listPage__3EDD6",form:"List_form__1HaCN",titleForObj:"List_titleForObj__1_Fq5",input:"List_input__1ZH61"}},460:function(e,t,a){e.exports={fieldErrors:"CustomField_fieldErrors__7T4fE",hasError:"CustomField_hasError__1qiWI",filePicker:"CustomField_filePicker__1rlz7",imageHolder:"CustomField_imageHolder__1mvKG"}},467:function(e,t,a){e.exports={hierachyPage:"Hierachy_hierachyPage__1_cMO",building:"Hierachy_building__3Owku",title:"Hierachy_title__ukCft",nodes:"Hierachy_nodes__cAMXR",subtitle:"Hierachy_subtitle__17NjO",items:"Hierachy_items__2k93k",forTheThirdNesting:"Hierachy_forTheThirdNesting__osJr3"}},468:function(e,t,a){e.exports={inventoryPage:"Inventory_inventoryPage__Imfpu",heirachy:"Inventory_heirachy__2vPXJ",nodeData:"Inventory_nodeData__17SF-"}},477:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(70),l=a(71),i=a(141),m=a(467),o=a.n(m),s=Object(n.memo)((function(e){var t=e.handleClick,a=Object(c.c)(i.a.getHierarchy),n=Object(c.c)(i.a.getInventory);return a||n?r.a.createElement("ul",{className:o.a.hierachyPage},a.map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("li",{className:o.a.building},r.a.createElement("p",{onClick:function(){return t(e.id,e.name)},className:o.a.title},e.name),r.a.createElement(u,{handleClick:t,parts:null===e||void 0===e?void 0:e.parts})))}))):null})),u=Object(n.memo)((function(e){var t=e.parts,a=e.handleClick;return r.a.createElement(r.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("ul",{key:e.name,className:o.a.nodes},r.a.createElement("p",{onClick:function(){return a(e.id,e.name)},className:o.a.subtitle},e.name),e.parts&&r.a.createElement(d,{handleClick:a,parts:null===e||void 0===e?void 0:e.parts})))})))})),d=Object(n.memo)((function(e){var t=e.parts,a=e.handleClick;return r.a.createElement(r.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement("li",{key:e.name,className:o.a.items},r.a.createElement("p",{onClick:function(){return a(e.id,e.name)}},e.name),r.a.createElement(b,{handleClick:a,parts:null===e||void 0===e?void 0:e.parts}))})))})),b=Object(n.memo)((function(e){var t=e.parts,a=e.handleClick;return r.a.createElement(r.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement("li",{key:e.name,className:o.a.forTheThirdNesting},r.a.createElement("p",{onClick:function(){return a(e.id,e.name)}},e.name))})))})),f=a(47),E=Object(n.memo)((function(){var e=Object(c.b)(),t=Object(c.c)(i.a.getHierarchy),a=Object(c.c)(i.a.getInventory);return r.a.createElement(s,{handleClick:function(n,r){e(l.a.setCurrentNode(n)),e(l.a.setCurrentNameNode(r));var c=Object(f.e)(Object(f.a)(n,t),a);e(l.a.setLevelNode(c.level)),e(l.a.setCurrentInvenory(c.currentInventory))}})})),p=a(468),v=a.n(p),h=a(461),_=a(426),N=a.n(_),O=a(35),j=a.n(O),g=a(62),y=a(447),C=a(476),k=a(205),F=a(463),S=a(475),H=a.n(S),I=a(460),P=a.n(I),L=function(e){var t,a=e.label,n=e.Component,c=void 0===n?x:n,l=e.className,i=Object(F.a)(e,["label","Component","className"]),m=Object(y.c)(i),o=Object(h.a)(m,2),s=o[0],u=o[1],d=u.error&&u.touched?u.error:"";return r.a.createElement("div",{className:H()("",(t={},Object(k.a)(t,P.a.error,d),Object(k.a)(t,P.a.withLabel,a),t))},r.a.createElement("label",{className:P.a.fieldLabel},a),r.a.createElement(c,Object.assign({field:s,className:H()(l,Object(k.a)({},P.a.hasError,u.error&&u.touched))},s,i,i.componentProps)),r.a.createElement("p",{className:H()(P.a.fieldErrors)},d))},x=function(e){var t=Object.assign({},e);return r.a.createElement("input",t)},D=function(e){var t=e.text,a=e.isSubmitting,n=e.className,c=e.type,l=Object(F.a)(e,["text","isSubmitting","className","type"]);return r.a.createElement("button",Object.assign({className:n,type:c},l),a?"loading":t)},w=Object(n.memo)((function(e){var t=e.setCreate,a=Object(c.b)(),n=Object(c.c)(i.a.getCurrentNode);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N.a.listPage},r.a.createElement(y.b,{validateOnChange:!0,initialValues:{name:"",count:""},validationSchema:z,enableReinitialize:!0,onSubmit:function(){var e=Object(g.a)(j.a.mark((function e(r,c){var i,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting,m=c.resetForm,i(!1),a(Object(l.b)(r.name,+r.count,n)),t(!1),m();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return r.a.createElement(y.a,null,r.a.createElement("div",{className:N.a.form},r.a.createElement("h3",{className:N.a.titleForObj},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),r.a.createElement(L,{name:"name",placeholder:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",autoComplete:"off",className:N.a.input}),r.a.createElement("h3",{className:N.a.titleForObj},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement(L,{name:"count",placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",autoComplete:"off",className:N.a.input}),r.a.createElement(D,{type:"submit",className:N.a.btn,text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",isSubmitting:t})))}))))})),T=Object(n.memo)((function(e){var t=e.currentInventory,a=e.setCreate,n=e.create,c=e.edit,l=e.setEdit;return 0===t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N.a.notFound},r.a.createElement("p",{className:N.a.itemsNotFound},"\u0412 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0438 \u043d\u0435\u0442 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f")),r.a.createElement("div",{className:N.a.forbuttons},r.a.createElement("button",{onClick:function(){return a((function(e){return!e}))},className:N.a.btn},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),n&&r.a.createElement(w,{setCreate:a}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N.a.forbuttons},r.a.createElement("button",{onClick:function(){return a((function(e){return!e}))},className:N.a.btn},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),n&&r.a.createElement(w,{setCreate:a}),r.a.createElement("button",{onClick:function(){return l((function(e){return!e}))},className:N.a.btn},c?"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0440\u0435\u0436\u0438\u043c\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u043d\u0438\u044f":"\u0420\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f")))})),q=Object(n.memo)((function(e){var t=e.isSubmitting,a=e.handleDelete,n=e.id;return r.a.createElement("div",null,r.a.createElement(L,{name:"name",placeholder:"\u0418\u043c\u044f",className:N.a.input,autoComplete:"off"}),r.a.createElement("h3",{className:N.a.titleForObj},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement(L,{name:"count",placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",className:N.a.input,autoComplete:"off"}),r.a.createElement("div",{className:N.a.forbuttons},r.a.createElement(D,{type:"submit",className:N.a.btn,text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",isSubmitting:t}),r.a.createElement("button",{className:N.a.btn,onClick:function(){return a(n)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))})),z=C.b({name:C.c().min(3,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0431\u0443\u043a\u0432\u044b").max(30,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 30 \u0431\u0443\u043a\u0432").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442"),count:C.a().typeError("\u0422\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438")}),J=Object(n.memo)((function(e){var t=e.currenName,a=e.currenNode,n=e.dependency,i=e.create,m=e.setCreate,o=e.edit,s=e.setEdit,u=e.currentInventory,d=e.handleDelete,b=Object(c.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:N.a.title},t),1===n.keys[0].length?r.a.createElement(T,{dependency:n,currentInventory:u,setCreate:m,create:i,edit:o,setEdit:s}):null,u.map((function(e){return r.a.createElement("div",{className:N.a.listPage,key:e.id},r.a.createElement(y.b,{validateOnChange:!0,initialValues:{name:e.name,count:e.count},validationSchema:z,enableReinitialize:!0,onSubmit:function(){var t=Object(g.a)(j.a.mark((function t(n,r){var c,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=r.setSubmitting,i=r.resetForm,c(!1),i(),b(Object(l.g)({id:e.id,count:n.count,name:n.name,placeId:a}));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},(function(t){var a=t.isSubmitting;return r.a.createElement(y.a,null,r.a.createElement("div",{className:N.a.form},r.a.createElement("h3",{className:N.a.titleForObj},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),o?r.a.createElement(q,{isSubmitting:a,handleDelete:d,id:e.id}):r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{disabled:!0,name:"name",placeholder:"\u0418\u043c\u044f",className:N.a.input,autoComplete:"off"}),r.a.createElement("h3",{className:N.a.titleForObj},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement(L,{disabled:!0,name:"count",placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",className:N.a.input,autoComplete:"off"}))))})))})))})),G=Object(n.memo)((function(){var e=Object(c.b)(),t=Object(c.c)(i.a.getCurrentInventory),a=Object(c.c)(i.a.getCurrentNode),m=Object(c.c)(i.a.getCurrentName),o=Object(c.c)(i.a.getHierarchy),s=Object(f.a)(a,o),u=Object(n.useState)(!1),d=Object(h.a)(u,2),b=d[0],E=d[1],p=Object(n.useState)(!1),v=Object(h.a)(p,2),_=v[0],O=v[1];Object(n.useEffect)((function(){}),[s]);return t.length||a?r.a.createElement(J,{currenNode:a,currenName:m,dependency:s,create:_,setCreate:O,edit:b,setEdit:E,currentInventory:t,handleDelete:function(t){e(Object(l.f)(t)),E(!1)}}):r.a.createElement("div",{className:N.a.notFound},"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0431\u043e\u0440")}));t.default=function(){return r.a.createElement("div",{className:v.a.inventoryPage},r.a.createElement("div",{className:v.a.heirachy},r.a.createElement(E,null)),r.a.createElement("div",{className:v.a.nodeData},r.a.createElement(G,null)))}}}]);
//# sourceMappingURL=4.171619b4.chunk.js.map